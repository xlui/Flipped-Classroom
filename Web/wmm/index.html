<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/common.css" type="text/css"/>
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<link rel="stylesheet" href="css/index_style.css" type="text/css"/>
</head>
<body>
<div class="header">
	<div class="content">
		<input type="text" class="search" placeholder="Search Data" />
		<ul class="nav clearfix">
			<li><a href="#">DATA</a></li>
			<li><a href="#">CLASS</a></li>
			<li><a href="#">MESSAGE</a></li>
			<li class="move"></li>
		</ul>
		<div class="head">
			<img src="img/list4.jpg">
			<p><i class="fa fa-caret-down"></i></p>
		</div>
	</div>
</div>
<div class="section">
	<div class="person">
			<ul>
				<li><a href="#">我的主页</a></li>
				<li><a href="#">我的收藏</a></li>
				<li><a href="#">退出</a></li>
			</ul>
	</div>
    <div class="list">
    	<ul class="clearfix">
        	<li>
            	<img src="img/list1.jpg" width="288" height="288"/>
                <p class="title">JAVA</p>
                <p>何丹丹</p>
                <p><span>1889</span> 人气 / <span>36</span> 评论 / <span>59</span> 推荐</p>
            </li>
            <li>
            	<img src="img/list2.jpg" width="288" height="288"/>
                <p class="title">Python</p>
                <p>史振涛</p>
                <p><span>1889</span> 人气 / <span>36</span> 评论 / <span>59</span> 推荐</p>
            </li>
            <li>
            	<img src="img/list3.jpg" width="288" height="288"/>
                <p class="title">JavaScript</p>
                <p>王咪咪</p>
                <p><span>1889</span> 人气 / <span>36</span> 评论 / <span>59</span> 推荐</p>
            </li>
            <li>
            	<img src="img/list4.jpg" width="288" height="288"/>
                <p class="title">C++</p>
                <p>惠皎</p>
                <p><span>1889</span> 人气 / <span>36</span> 评论 / <span>59</span> 推荐</p>
            </li>
        </ul>
    </div>
</div>
<div class="footer">
	<div class="footer_content">
        <div class="about">
        	<ul>
            	<li><a href="#">关于我们</a></li>
                <li><a href="#">联系我们</a></li>
                <li><a href="#">问题反馈</a></li>
                <li><a href="#">免责</a></li>
            </ul>
            <p>Flipped Classroom is for students and teachers.</p>
        </div>
    </div>
</div>
<script src="js/jquery.min.js"></script>
<script src="js/velocity.min.js"></script>
<script>
	var timer1 = null, timer2 = null, timer3 = null;
	$(".content .nav li").not(".move").on("mouseover",function (){
		clearTimeout(timer1);
		$(".move").velocity("stop").velocity({"left":$(this).find("a")[0].offsetLeft-5+"px","width":$(this).find("a")[0].offsetWidth+10+"px"},{duration :250,easing:[1500,40]});
	})
	$(".content .nav").on("mouseout",function (){
		timer1 = setTimeout(function (){
			$(".move").velocity("stop").velocity({"left":0,"width":0},{duration :250,easing:"linear"})
		},100)
	})
	$(".content .nav li").eq(1).on("mouseover",function (){
		clearTimeout(timer2);
		$(".submenu").velocity("stop").velocity({"height":"160px"},{duration :350,easing:"linear",begin:function (){
			$(".submenu").css("display","block")
		}})
	})
	$(".content .nav li").eq(1).on("mouseout",function (){
	timer2 = setTimeout(function (){
		$(".submenu").velocity("stop").velocity({"height":0},{duration :350,easing:"linear",complete:function (){
			$(".submenu").css("display","none")
		}})
		},100)
	})
	$(".submenu").on("mouseover",function (){
		clearTimeout(timer2);
		$(".submenu").velocity("stop").velocity({"height":"160px"},{duration :350,easing:"linear",begin:function (){
			$(".submenu").css("display","block")
		}})
	})
	$(".submenu").on("mouseout",function (){
	timer2 = setTimeout(function (){
		$(".submenu").velocity("stop").velocity({"height":0},{duration :350,easing:"linear",complete:function (){
			$(".submenu").css("display","none")
		}})
		},100)
	})
	var iNum = 0;
	var arr = ["img/pic1.jpg","img/pic2.jpg","img/pic3.jpg"];
	for(var i=0;i<arr.length;i++){
		$(".point").append($("<li>"));
	}
	$(".point li").eq(0).addClass("active");
	$(".banner div").eq(0).on("click",function (){
		toPre();
		toPoint();
		changePic();
	})
	$(".banner div").eq(1).on("click",function (){
		toNext();
		toPoint();
		changePic();
	})
	$(".point li").on("click",function (){
		iNum = $(this).index();
		toPoint();
		changePic();
	})
	function changePic(){
		$(".banner img").velocity("stop").velocity({"opacity":0},{duration :150,easing:"linear",complete:function (){
			$(".banner img")[0].src = arr[iNum];
		}}).velocity({"opacity":1},{duration :150,easing:"linear"})
	}
	function toPre(){
		iNum == 0 ? iNum=arr.length-1 : iNum--;
	}
	function toNext(){
		iNum == arr.length-1 ? iNum=0 : iNum++;
	}
	function toPoint(){
		$(".point li").eq(iNum).addClass("active").siblings().removeClass("active");
	}
	timer3 = setInterval(function (){
		toNext();
		toPoint();
		changePic();
	},3500);
	$(".banner").on("mouseover",function (){
		clearInterval(timer3);
	})
	$(".banner").on("mouseout",function (){
		clearInterval(timer3);
		timer3 = setInterval(function (){
			toNext();
			toPoint();
			changePic();
		},3500);
	})
	$(".head").click(function(){
		$(".person").toggle();
	})
</script>
</body>
</html>